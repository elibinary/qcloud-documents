CME 提供了完整的账户系统接入认证能力，开发者可以将制作云对接到已有的组织/企业账户认证体系中，实现其用户可以无需注册直接登录（SSO）到制作云。

### 原理概述
认证接入能力基于 OAuth2.0 协议标准进行构建，OAuth2.0 作为一个开放授权标准，允许用户让第三方应用访问该用户在某服务的特定私有资源但是不提供账号密码信息给第三方应用。
授权认证流程基于 Authorization Code 的授权码模式，其认证流程如下：
```
     +----------+
     | Resource |
     |   Owner  |
     |          |
     +----------+
          ^
          |
         (B)
     +----|-----+          Client Identifier      +---------------+
     |         -+----(A)-- & Redirection URI ---->|               |
     |  User-   |                                 | Authorization |
     |  Agent  -+----(B)-- User authenticates --->|     Server    |
     |          |                                 |               |
     |         -+----(C)-- Authorization Code ---<|               |
     +-|----|---+                                 +---------------+
       |    |                                         ^      v
      (A)  (C)                                        |      |
       |    |                                         |      |
       ^    v                                         |      |
     +---------+                                      |      |
     |         |>---(D)-- Authorization Code ---------'      |
     |  Client |          & Redirection URI                  |
     |         |                                             |
     |         |<---(E)----- Access Token -------------------'
     +---------+       (w/ Optional Refresh Token)
   Note: The lines illustrating steps (A), (B), and (C) are broken into
   two parts as they pass through the user-agent.
```

**角色说明：**

<table>
<tr>
<th style = "width:20%">角色	</th>
<th>描述</th>
</tr>
<tr>
<td>Resource Owner</td>
<td>资源拥有者，即用户。</td>
</tr>
<tr>
<td>Authorization Server</td>
<td>授权服务器，即开发者侧服务</td>
</tr>
<td>Client</td>
<td>应用服务，即制作云服务</td>
</tr>
</table>

### 授权登录流程
![](https://main.qcloudimg.com/raw/b4263ec27eda352d9feb82a80f19b553.png)

>?在接入过程中需要开发者提供认证服务（Authorization Server）的能力。完整教程参考[OAuth 2.0 开放标准](https://tools.ietf.org/html/rfc6749#section-4.1)。具体交互协议及案例可参见本文下面的 [接入步骤2：提供认证服务]。

**流程步骤：**

- 用户点击前往制作云。
- 制作云将会判断是否处于已登录状态，若未登录则向开发者 Authorization Server 发起授权认证。
- 通常开发者 Authorization Server 将向用户展示授权许可页面，等待用户确认授权。
- 授权成功后，Authorization Server 将重定向到制作云的回调地址上，并携带授权 Code 以及 State 字段信息。
- 制作云接收到授权 Code 及 State 信息后，将向 Authorization Server 换取 AccessToken 凭证信息。
- 制作云获取到 AccessToken 凭证后，将会使用 AccessToken 向 Authorization Server 获取用户信息。
- 制作云验证获取到的用户信息无误后，将会下发登录态，并跳转进入制作云，至此登入成功。



